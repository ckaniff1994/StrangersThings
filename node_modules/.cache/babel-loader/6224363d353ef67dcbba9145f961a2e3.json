{"ast":null,"code":"var _jsxFileName = \"/Users/colinkaniff/Desktop/StrangersThings/src/components/PostMessage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport PostsItem from \"./PostsItem\";\nimport { sendMessage } from \"../api/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PostMessage = _ref => {\n  _s();\n  let {\n    posts,\n    token\n  } = _ref;\n  const {\n    postId\n  } = useParams();\n  const [message, setMessage] = useState('');\n  const messageSubmit = async event => {\n    event.preventDefault();\n    const {\n      success,\n      error,\n      data\n    } = await sendMessage(token, postId, message);\n    if (success) {\n      setMessage('');\n      console.log(\"Successfully sent message!\");\n    } else {\n      alert(\"Message unsuccessful!\");\n      console.error(error);\n    }\n  };\n  const postDetail = posts.find(aPost => {\n    const foundPost = aPost._id == postId;\n    return foundPost;\n  });\n  if (!postDetail) {\n    return \"Loading...\";\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(PostsItem, {\n        post: postDetail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: messageSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Write a message\",\n          value: message,\n          onChange: event => setMessage(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n};\n_s(PostMessage, \"IYV+R3ERJxXerUWm0LsC0cBL3hE=\", false, function () {\n  return [useParams];\n});\n_c = PostMessage;\nexport default PostMessage;\nvar _c;\n$RefreshReg$(_c, \"PostMessage\");","map":{"version":3,"names":["React","useState","useParams","PostsItem","sendMessage","PostMessage","posts","token","postId","message","setMessage","messageSubmit","event","preventDefault","success","error","data","console","log","alert","postDetail","find","aPost","foundPost","_id","target","value"],"sources":["/Users/colinkaniff/Desktop/StrangersThings/src/components/PostMessage.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport PostsItem from \"./PostsItem\";\nimport { sendMessage } from \"../api/api\";\n\nconst PostMessage = ({posts, token}) => {\n    \n    const {postId} = useParams();\n    const [message, setMessage] = useState('');\n\n    const messageSubmit = async (event) => {\n        event.preventDefault();\n\n        const {success, error, data} = await sendMessage(token, postId, message)\n\n        if (success) {\n            setMessage('');\n            console.log(\"Successfully sent message!\")\n        } else {\n            alert(\"Message unsuccessful!\");\n            console.error(error);\n        }\n    }\n\n    const postDetail = posts.find((aPost) => {\n        const foundPost = aPost._id == postId;\n        return foundPost;\n    })\n    if (!postDetail) {\n    return(\n        \"Loading...\"\n    )\n    } else {\n        return (<>\n            <PostsItem post={postDetail}/>\n            <form onSubmit={messageSubmit}>\n                <input \n                    type=\"text\" \n                    placeholder=\"Write a message\"\n                    value={message}\n                    onChange={event => setMessage(event.target.value)}/>\n                <button type=\"submit\">Send</button>\n            </form>\n        </>)\n    }\n}\n\nexport default PostMessage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,QAAQ,QAAO,OAAO;AACrC,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,OAAOC,SAAS,MAAM,aAAa;AACnC,SAASC,WAAW,QAAQ,YAAY;AAAC;AAAA;AAEzC,MAAMC,WAAW,GAAG,QAAoB;EAAA;EAAA,IAAnB;IAACC,KAAK;IAAEC;EAAK,CAAC;EAE/B,MAAM;IAACC;EAAM,CAAC,GAAGN,SAAS,EAAE;EAC5B,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMU,aAAa,GAAG,MAAOC,KAAK,IAAK;IACnCA,KAAK,CAACC,cAAc,EAAE;IAEtB,MAAM;MAACC,OAAO;MAAEC,KAAK;MAAEC;IAAI,CAAC,GAAG,MAAMZ,WAAW,CAACG,KAAK,EAAEC,MAAM,EAAEC,OAAO,CAAC;IAExE,IAAIK,OAAO,EAAE;MACTJ,UAAU,CAAC,EAAE,CAAC;MACdO,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;IAC7C,CAAC,MAAM;MACHC,KAAK,CAAC,uBAAuB,CAAC;MAC9BF,OAAO,CAACF,KAAK,CAACA,KAAK,CAAC;IACxB;EACJ,CAAC;EAED,MAAMK,UAAU,GAAGd,KAAK,CAACe,IAAI,CAAEC,KAAK,IAAK;IACrC,MAAMC,SAAS,GAAGD,KAAK,CAACE,GAAG,IAAIhB,MAAM;IACrC,OAAOe,SAAS;EACpB,CAAC,CAAC;EACF,IAAI,CAACH,UAAU,EAAE;IACjB,OACI,YAAY;EAEhB,CAAC,MAAM;IACH,oBAAQ;MAAA,wBACJ,QAAC,SAAS;QAAC,IAAI,EAAEA;MAAW;QAAA;QAAA;QAAA;MAAA,QAAE,eAC9B;QAAM,QAAQ,EAAET,aAAc;QAAA,wBAC1B;UACI,IAAI,EAAC,MAAM;UACX,WAAW,EAAC,iBAAiB;UAC7B,KAAK,EAAEF,OAAQ;UACf,QAAQ,EAAEG,KAAK,IAAIF,UAAU,CAACE,KAAK,CAACa,MAAM,CAACC,KAAK;QAAE;UAAA;UAAA;UAAA;QAAA,QAAE,eACxD;UAAQ,IAAI,EAAC,QAAQ;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAc;MAAA;QAAA;QAAA;QAAA;MAAA,QAChC;IAAA,gBACR;EACP;AACJ,CAAC;AAAA,GAxCKrB,WAAW;EAAA,QAEIH,SAAS;AAAA;AAAA,KAFxBG,WAAW;AA0CjB,eAAeA,WAAW;AAAC;AAAA"},"metadata":{},"sourceType":"module"}